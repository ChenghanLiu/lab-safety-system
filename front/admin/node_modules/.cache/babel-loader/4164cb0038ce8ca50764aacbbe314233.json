{"remainingRequest":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/babel-loader/lib/index.js!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/utils/http.js","dependencies":[{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/utils/http.js","mtime":1771339965964},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/babel.config.js","mtime":1739263804000},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/babel-loader/lib/index.js","mtime":1771254462371}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciBodHRwID0gYXhpb3MuY3JlYXRlKHsKICB0aW1lb3V0OiAxMDAwICogMzAsCiAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSwKICBiYXNlVVJMOiAiLyIsCiAgLy8g4pyFIOS4jeaUuSBiYXNlVVJMCiAgaGVhZGVyczogewogICAgIkNvbnRlbnQtVHlwZSI6ICJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04IgogIH0KfSk7Cmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiVG9rZW4iKTsKCiAgLy8g4pyFIOWQjuerr+WPquiupCBBdXRob3JpemF0aW9uOiBCZWFyZXIgeHh4CiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1siQXV0aG9yaXphdGlvbiJdID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgfQoKICAvLyDinYwg6Ziy5q2i5pen5qih5p2/5q6L55WZ77ya5LiN6KaB5YaN5LygIFRva2VuIOi/meS4quWktAogIGlmIChjb25maWcuaGVhZGVycyAmJiBjb25maWcuaGVhZGVyc1siVG9rZW4iXSkgewogICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzWyJUb2tlbiJdOwogIH0KICByZXR1cm4gY29uZmlnOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKaHR0cC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHJldHVybiByZXNwb25zZTsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGh0dHA7"},{"version":3,"names":["axios","http","create","timeout","withCredentials","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","error","Promise","reject","response"],"sources":["/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/utils/http.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst http = axios.create({\r\n    timeout: 1000 * 30,\r\n    withCredentials: false,\r\n    baseURL: \"/\", // ✅ 不改 baseURL\r\n    headers: {\r\n        \"Content-Type\": \"application/json; charset=utf-8\"\r\n    }\r\n});\r\n\r\nhttp.interceptors.request.use(\r\n    (config) => {\r\n        const token = localStorage.getItem(\"Token\");\r\n\r\n        // ✅ 后端只认 Authorization: Bearer xxx\r\n        if (token) {\r\n            config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n        }\r\n\r\n        // ❌ 防止旧模板残留：不要再传 Token 这个头\r\n        if (config.headers && config.headers[\"Token\"]) {\r\n            delete config.headers[\"Token\"];\r\n        }\r\n\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\nhttp.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\nexport default http;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,IAAI,GAAGD,KAAK,CAACE,MAAM,CAAC;EACtBC,OAAO,EAAE,IAAI,GAAG,EAAE;EAClBC,eAAe,EAAE,KAAK;EACtBC,OAAO,EAAE,GAAG;EAAE;EACdC,OAAO,EAAE;IACL,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;AAEFL,IAAI,CAACM,YAAY,CAACC,OAAO,CAACC,GAAG,CACzB,UAACC,MAAM,EAAK;EACR,IAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;EAE3C;EACA,IAAIF,KAAK,EAAE;IACPD,MAAM,CAACJ,OAAO,CAAC,eAAe,CAAC,aAAAQ,MAAA,CAAaH,KAAK,CAAE;EACvD;;EAEA;EACA,IAAID,MAAM,CAACJ,OAAO,IAAII,MAAM,CAACJ,OAAO,CAAC,OAAO,CAAC,EAAE;IAC3C,OAAOI,MAAM,CAACJ,OAAO,CAAC,OAAO,CAAC;EAClC;EAEA,OAAOI,MAAM;AACjB,CAAC,EACD,UAACK,KAAK;EAAA,OAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAAA,CACpC,CAAC;AAEDd,IAAI,CAACM,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1B,UAACS,QAAQ;EAAA,OAAKA,QAAQ;AAAA,GACtB,UAACH,KAAK;EAAA,OAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAAA,CACpC,CAAC;AAED,eAAed,IAAI","ignoreList":[]}]}