{"remainingRequest":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/babel-loader/lib/index.js!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/modules/user/list.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/modules/user/list.vue","mtime":1771499449810},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/babel.config.js","mtime":1739263804000},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/babel-loader/lib/index.js","mtime":1771254462371},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js","mtime":1771254462450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvciBmcm9tICIvVXNlcnMvbGl1Y2hlbmdoYW4vRGVza3RvcC9sYWItc2FmZXR5LXN5c3RlbS9mcm9udC9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3IuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2xpdWNoZW5naGFuL0Rlc2t0b3AvbGFiLXNhZmV0eS1zeXN0ZW0vZnJvbnQvYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgeyBsaXN0VXNlcnMsIGdldFVzZXJCeUlkLCBjcmVhdGVVc2VyLCB1cGRhdGVVc2VyLCBkZWxldGVVc2VyIH0gZnJvbSAiQC9hcGkvdXNlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJvd3M6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgcGFnZTogMSwKICAgICAgc2l6ZTogMTAsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBkaWFsb2dUaXRsZTogIiIsCiAgICAgIGlzRWRpdDogZmFsc2UsCiAgICAgIGVkaXRJZDogbnVsbCwKICAgICAgZm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIHJvbGU6ICJTVFVERU5UIgogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHJvbGU6IGZ1bmN0aW9uIHJvbGUoKSB7CiAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiUm9sZSIpIHx8ICIiOwogICAgfSwKICAgIGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oKSB7CiAgICAgIHJldHVybiB0aGlzLnJvbGUgPT09ICJBRE1JTiI7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBkYXRhLCBfZSRyZXNwb25zZSwgbXNnLCBfdDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnAgPSBfY29udGV4dC5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dC5wID0gMTsKICAgICAgICAgICAgICBfY29udGV4dC5uID0gMjsKICAgICAgICAgICAgICByZXR1cm4gbGlzdFVzZXJzKHsKICAgICAgICAgICAgICAgIHBhZ2U6IF90aGlzLnBhZ2UgLSAxLAogICAgICAgICAgICAgICAgc2l6ZTogX3RoaXMuc2l6ZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQudjsKICAgICAgICAgICAgICBkYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgICAgICAgX3RoaXMucm93cyA9IGRhdGEuY29udGVudCB8fCBbXTsKICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IE51bWJlcihkYXRhLnRvdGFsRWxlbWVudHMgfHwgMCk7CiAgICAgICAgICAgICAgX2NvbnRleHQubiA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dC5wID0gMzsKICAgICAgICAgICAgICBfdCA9IF9jb250ZXh0LnY7CiAgICAgICAgICAgICAgbXNnID0gKF90ID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgfHwgKF9lJHJlc3BvbnNlID0gX3QucmVzcG9uc2UpID09PSBudWxsIHx8IF9lJHJlc3BvbnNlID09PSB2b2lkIDAgfHwgKF9lJHJlc3BvbnNlID0gX2UkcmVzcG9uc2UuZGF0YSkgPT09IG51bGwgfHwgX2UkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lJHJlc3BvbnNlLm1lc3NhZ2UpIHx8IChfdCA9PT0gbnVsbCB8fCBfdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3QubWVzc2FnZSkgfHwgIuWKoOi9veWksei0pSI7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoIueUqOaIt+WIl+ihqOWKoOi9veWksei0pe+8miIgKyBtc2cpOwogICAgICAgICAgICAgIF90aGlzLnJvd3MgPSBbXTsKICAgICAgICAgICAgICBfdGhpcy50b3RhbCA9IDA7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBfY29udGV4dC5wID0gNDsKICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmYoNCk7CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsIDMsIDQsIDVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZvcm1hdFJvbGU6IGZ1bmN0aW9uIGZvcm1hdFJvbGUocm9sZSkgewogICAgICB2YXIgbWFwID0gewogICAgICAgIEFETUlOOiAi566h55CG5ZGYIiwKICAgICAgICBURUFDSEVSOiAi5pWZ5biIIiwKICAgICAgICBTVFVERU5UOiAi5a2m55SfIgogICAgICB9OwogICAgICByZXR1cm4gbWFwW3JvbGVdIHx8IHJvbGU7CiAgICB9LAogICAgY2hhbmdlUGFnZTogZnVuY3Rpb24gY2hhbmdlUGFnZShwKSB7CiAgICAgIHRoaXMucGFnZSA9IHA7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKICAgIGNoYW5nZVNpemU6IGZ1bmN0aW9uIGNoYW5nZVNpemUocykgewogICAgICB0aGlzLnNpemUgPSBzOwogICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBvcGVuQ3JlYXRlOiBmdW5jdGlvbiBvcGVuQ3JlYXRlKCkgewogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gIuaWsOWinueUqOaIt++8iEFkbWlu77yJIjsKICAgICAgdGhpcy5pc0VkaXQgPSBmYWxzZTsKICAgICAgdGhpcy5lZGl0SWQgPSBudWxsOwogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgcm9sZTogIlNUVURFTlQiCiAgICAgIH07CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgb3BlbkVkaXQ6IGZ1bmN0aW9uIG9wZW5FZGl0KGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoLyojX19QVVJFX18qL19yZWdlbmVyYXRvcigpLm0oZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlcywgdSwgX3QyOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3IoKS53KGZ1bmN0aW9uIChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0Mi5wID0gX2NvbnRleHQyLm4pIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMi5kaWFsb2dUaXRsZSA9ICLnvJbovpHnlKjmiLfvvIhBZG1pbu+8iSI7CiAgICAgICAgICAgICAgX3RoaXMyLmlzRWRpdCA9IHRydWU7CiAgICAgICAgICAgICAgX3RoaXMyLmVkaXRJZCA9IGlkOwogICAgICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICBfY29udGV4dDIucCA9IDE7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm4gPSAyOwogICAgICAgICAgICAgIHJldHVybiBnZXRVc2VyQnlJZChpZCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDIudjsKICAgICAgICAgICAgICB1ID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgICAgICAgX3RoaXMyLmZvcm0gPSB7CiAgICAgICAgICAgICAgICB1c2VybmFtZTogdS51c2VybmFtZSB8fCAiIiwKICAgICAgICAgICAgICAgIC8vIOe8lui+keaXtuS4jeaUuSB1c2VybmFtZe+8jOS9huS/neeVmeaYvuekuueUqAogICAgICAgICAgICAgICAgZW1haWw6IHUuZW1haWwgfHwgIiIsCiAgICAgICAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICAgICAgICByb2xlOiB1LnJvbGUgfHwgIlNUVURFTlQiCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDIubiA9IDQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dDIucCA9IDM7CiAgICAgICAgICAgICAgX3QyID0gX2NvbnRleHQyLnY7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCLliqDovb3nlKjmiLfkv6Hmga/lpLHotKUiKTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYSgyKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1sxLCAzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcGF5bG9hZCwgX2UkcmVzcG9uc2UyLCBtc2csIF90MzsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucCA9IF9jb250ZXh0My5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMucCA9IDA7CiAgICAgICAgICAgICAgaWYgKF90aGlzMy5pc0FkbWluKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLml6DmnYPpmZAiKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMik7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBpZiAoIV90aGlzMy5pc0VkaXQpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uID0gMzsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyDmjInkvaDlkI7nq6/vvJpwdXQgYm9keSDlj6/ljIXlkKsgZW1haWwvcm9sZS9wYXNzd29yZAogICAgICAgICAgICAgIHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMzLmZvcm0uZW1haWwsCiAgICAgICAgICAgICAgICByb2xlOiBfdGhpczMuZm9ybS5yb2xlLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzMy5mb3JtLnBhc3N3b3JkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVVzZXIoX3RoaXMzLmVkaXRJZCwgcGF5bG9hZCk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pu05paw5oiQ5YqfIik7CiAgICAgICAgICAgICAgX2NvbnRleHQzLm4gPSA1OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX2NvbnRleHQzLm4gPSA0OwogICAgICAgICAgICAgIHJldHVybiBjcmVhdGVVc2VyKHsKICAgICAgICAgICAgICAgIHVzZXJuYW1lOiBfdGhpczMuZm9ybS51c2VybmFtZSwKICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpczMuZm9ybS5lbWFpbCwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpczMuZm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgICAgIHJvbGU6IF90aGlzMy5mb3JtLnJvbGUKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCLliJvlu7rmiJDlip8iKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIF90aGlzMy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgX3RoaXMzLmxvYWQoKTsKICAgICAgICAgICAgICBfY29udGV4dDMubiA9IDc7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dDMucCA9IDY7CiAgICAgICAgICAgICAgX3QzID0gX2NvbnRleHQzLnY7CiAgICAgICAgICAgICAgbXNnID0gKF90MyA9PT0gbnVsbCB8fCBfdDMgPT09IHZvaWQgMCB8fCAoX2UkcmVzcG9uc2UyID0gX3QzLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSRyZXNwb25zZTIgPT09IHZvaWQgMCB8fCAoX2UkcmVzcG9uc2UyID0gX2UkcmVzcG9uc2UyLmRhdGEpID09PSBudWxsIHx8IF9lJHJlc3BvbnNlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UkcmVzcG9uc2UyLm1lc3NhZ2UpIHx8IChfdDMgPT09IG51bGwgfHwgX3QzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdDMubWVzc2FnZSkgfHwgIuaTjeS9nOWksei0pSI7CiAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKG1zZyk7CiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmEoMik7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgNl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvcigvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yKCkubShmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgX2UkcmVzcG9uc2UzLCBtc2csIF90NDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yKCkudyhmdW5jdGlvbiAoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDQucCA9IF9jb250ZXh0NC5uKSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDQucCA9IDA7CiAgICAgICAgICAgICAgaWYgKF90aGlzNC5pc0FkbWluKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubiA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKCLml6DmnYPpmZAiKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmEoMik7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBfY29udGV4dDQubiA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC4kY29uZmlybSgi56Gu5a6a5Yig6Zmk6K+l55So5oi377yfIiwgIuaPkOekuiIsIHsKICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSAzOwogICAgICAgICAgICAgIHJldHVybiBkZWxldGVVc2VyKGlkKTsKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgICAgICAgICBfdGhpczQubG9hZCgpOwogICAgICAgICAgICAgIF9jb250ZXh0NC5uID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIF9jb250ZXh0NC5wID0gNDsKICAgICAgICAgICAgICBfdDQgPSBfY29udGV4dDQudjsKICAgICAgICAgICAgICBpZiAoIShfdDQgPT09ICJjYW5jZWwiKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm4gPSA1OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYSgyKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIG1zZyA9IChfdDQgPT09IG51bGwgfHwgX3Q0ID09PSB2b2lkIDAgfHwgKF9lJHJlc3BvbnNlMyA9IF90NC5yZXNwb25zZSkgPT09IG51bGwgfHwgX2UkcmVzcG9uc2UzID09PSB2b2lkIDAgfHwgKF9lJHJlc3BvbnNlMyA9IF9lJHJlc3BvbnNlMy5kYXRhKSA9PT0gbnVsbCB8fCBfZSRyZXNwb25zZTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lJHJlc3BvbnNlMy5tZXNzYWdlKSB8fCAoX3Q0ID09PSBudWxsIHx8IF90NCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Q0Lm1lc3NhZ2UpIHx8ICLliKDpmaTlpLHotKUiOwogICAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5lcnJvcihtc2cpOwogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hKDIpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0LCBudWxsLCBbWzAsIDRdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["listUsers","getUserById","createUser","updateUser","deleteUser","data","loading","rows","total","page","size","dialogVisible","dialogTitle","isEdit","editId","form","username","email","password","role","computed","localStorage","getItem","isAdmin","mounted","load","methods","_this","_asyncToGenerator","_regenerator","m","_callee","res","_e$response","msg","_t","w","_context","p","n","v","content","Number","totalElements","response","message","$message","error","f","a","formatRole","map","ADMIN","TEACHER","STUDENT","changePage","changeSize","s","openCreate","openEdit","id","_this2","_callee2","u","_t2","_context2","submit","_this3","_callee3","payload","_e$response2","_t3","_context3","success","remove","_this4","_callee4","_e$response3","_t4","_context4","$confirm","type"],"sources":["src/views/modules/user/list.vue"],"sourcesContent":["<template>\n  <div>\n    <el-card>\n\n      <div style=\"margin-bottom:16px; display:flex; gap:10px; flex-wrap:wrap; align-items:center;\">\n        <el-button type=\"primary\" @click=\"load\">刷新</el-button>\n\n        <el-button\n            v-if=\"isAdmin\"\n            type=\"success\"\n            @click=\"openCreate\"\n        >\n          新增用户（Admin）\n        </el-button>\n      </div>\n\n      <el-table :data=\"rows\" border v-loading=\"loading\">\n        <el-table-column prop=\"id\" label=\"ID\" width=\"90\" />\n        <el-table-column prop=\"username\" label=\"用户名\" />\n        <el-table-column prop=\"email\" label=\"邮箱\" />\n        <el-table-column label=\"角色\">\n          <template slot-scope=\"scope\">\n            {{ formatRole(scope.row.role) }}\n          </template>\n        </el-table-column>\n\n\n        <el-table-column v-if=\"isAdmin\" label=\"操作\" width=\"220\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"primary\" @click=\"openEdit(scope.row.id)\">\n              编辑\n            </el-button>\n            <el-button size=\"mini\" type=\"danger\" @click=\"remove(scope.row.id)\">\n              删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination\n          style=\"margin-top:16px;\"\n          background\n          layout=\"total, sizes, prev, pager, next\"\n          :total=\"total\"\n          :page-size=\"size\"\n          :page-sizes=\"[10, 20, 50]\"\n          @current-change=\"changePage\"\n          @size-change=\"changeSize\"\n      />\n    </el-card>\n\n    <!-- create/edit dialog -->\n    <el-dialog :title=\"dialogTitle\" :visible.sync=\"dialogVisible\" width=\"700px\">\n      <el-form :model=\"form\" label-width=\"110px\">\n\n        <el-form-item label=\"用户名\" v-if=\"!isEdit\">\n          <el-input v-model=\"form.username\" />\n        </el-form-item>\n\n        <el-form-item label=\"邮箱\">\n          <el-input v-model=\"form.email\" />\n        </el-form-item>\n\n        <el-form-item label=\"密码\">\n          <el-input v-model=\"form.password\" show-password />\n        </el-form-item>\n\n        <el-form-item label=\"角色\">\n          <el-select v-model=\"form.role\" style=\"width: 220px;\">\n            <el-option label=\"STUDENT\" value=\"STUDENT\" />\n            <el-option label=\"TEACHER\" value=\"TEACHER\" />\n            <el-option label=\"ADMIN\" value=\"ADMIN\" />\n          </el-select>\n        </el-form-item>\n\n      </el-form>\n\n      <span slot=\"footer\">\n        <el-button @click=\"dialogVisible=false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submit\">确定</el-button>\n      </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {\n  listUsers,\n  getUserById,\n  createUser,\n  updateUser,\n  deleteUser\n} from \"@/api/user\";\n\nexport default {\n  data() {\n    return {\n      loading: false,\n      rows: [],\n      total: 0,\n      page: 1,\n      size: 10,\n\n      dialogVisible: false,\n      dialogTitle: \"\",\n      isEdit: false,\n      editId: null,\n\n      form: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"STUDENT\"\n      }\n    };\n  },\n\n  computed: {\n    role() {\n      return localStorage.getItem(\"Role\") || \"\";\n    },\n    isAdmin() {\n      return this.role === \"ADMIN\";\n    }\n  },\n\n  mounted() {\n    this.load();\n  },\n\n  methods: {\n    async load() {\n      this.loading = true;\n      try {\n        const res = await listUsers({\n          page: this.page - 1,\n          size: this.size\n        });\n\n        const data = res.data || {};\n        this.rows = data.content || [];\n        this.total = Number(data.totalElements || 0);\n\n      } catch (e) {\n        const msg = e?.response?.data?.message || e?.message || \"加载失败\";\n        this.$message.error(\"用户列表加载失败：\" + msg);\n        this.rows = [];\n        this.total = 0;\n      } finally {\n        this.loading = false;\n      }\n    },\n    formatRole(role) {\n      const map = {\n        ADMIN: \"管理员\",\n        TEACHER: \"教师\",\n        STUDENT: \"学生\"\n      };\n      return map[role] || role;\n    },\n\n\n    changePage(p) {\n      this.page = p;\n      this.load();\n    },\n\n    changeSize(s) {\n      this.size = s;\n      this.page = 1;\n      this.load();\n    },\n\n    openCreate() {\n      this.dialogTitle = \"新增用户（Admin）\";\n      this.isEdit = false;\n      this.editId = null;\n      this.form = {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"STUDENT\"\n      };\n      this.dialogVisible = true;\n    },\n\n    async openEdit(id) {\n      this.dialogTitle = \"编辑用户（Admin）\";\n      this.isEdit = true;\n      this.editId = id;\n      this.dialogVisible = true;\n\n      try {\n        const res = await getUserById(id);\n        const u = res.data || {};\n        this.form = {\n          username: u.username || \"\", // 编辑时不改 username，但保留显示用\n          email: u.email || \"\",\n          password: \"\",\n          role: u.role || \"STUDENT\"\n        };\n      } catch (e) {\n        this.$message.error(\"加载用户信息失败\");\n      }\n    },\n\n    async submit() {\n      try {\n        if (!this.isAdmin) {\n          this.$message.error(\"无权限\");\n          return;\n        }\n\n        if (this.isEdit) {\n          // 按你后端：put body 可包含 email/role/password\n          const payload = {\n            email: this.form.email,\n            role: this.form.role,\n            password: this.form.password\n          };\n          await updateUser(this.editId, payload);\n          this.$message.success(\"更新成功\");\n        } else {\n          await createUser({\n            username: this.form.username,\n            email: this.form.email,\n            password: this.form.password,\n            role: this.form.role\n          });\n          this.$message.success(\"创建成功\");\n        }\n\n        this.dialogVisible = false;\n        this.load();\n\n      } catch (e) {\n        const msg = e?.response?.data?.message || e?.message || \"操作失败\";\n        this.$message.error(msg);\n      }\n    },\n\n    async remove(id) {\n      try {\n        if (!this.isAdmin) {\n          this.$message.error(\"无权限\");\n          return;\n        }\n\n        await this.$confirm(\"确定删除该用户？\", \"提示\", { type: \"warning\" });\n        await deleteUser(id);\n        this.$message.success(\"删除成功\");\n        this.load();\n      } catch (e) {\n        if (e === \"cancel\") return;\n        const msg = e?.response?.data?.message || e?.message || \"删除失败\";\n        this.$message.error(msg);\n      }\n    }\n  }\n};\n</script>\n"],"mappings":"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","ignoreList":[]}]}