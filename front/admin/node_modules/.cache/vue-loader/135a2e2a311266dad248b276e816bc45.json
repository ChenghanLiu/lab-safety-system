{"remainingRequest":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/home.vue?vue&type=style&index=0&id=7eb2bc79&lang=scss&scoped=true","dependencies":[{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/home.vue","mtime":1771333973753},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/css-loader/dist/cjs.js","mtime":1771254462222},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1771254462650},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/postcss-loader/src/index.js","mtime":1771254462334},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/sass-loader/dist/cjs.js","mtime":1771254462037},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js","mtime":1771254462450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouaG9tZS1jb250ZW50IHsNCiAgcGFkZGluZzogMTBweCAzMHB4IDQwcHg7DQogIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7DQogIGJhY2tncm91bmQ6IHVybChodHRwOi8vY29kZWdlbi5jYWlob25neS5jbi8yMDI0MTIxMy8xMjYwZThkN2I0ZDY0NTEyYjYyY2JmMTBhOTNiZjljYy5wbmcpIG5vLXJlcGVhdCBjZW50ZXIgdG9wIC8gY292ZXI7DQogIGRpc3BsYXk6IGZsZXg7DQogIHdpZHRoOiAxMDAlOw0KICBtaW4taGVpZ2h0OiAxMDB2aDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0Ow0KICBmbGV4LXdyYXA6IHdyYXA7DQoNCiAgLmhvbWUtdGl0bGUgew0KICAgIGJvcmRlci1yYWRpdXM6IDVweDsNCiAgICBwYWRkaW5nOiAxMHB4IDA7DQogICAgYm94LXNoYWRvdzogMCAwcHggMHB4IHJnYmEoMCwgMCwgMCwgLjMpOw0KICAgIG1hcmdpbjogMTBweCAwOw0KICAgIGJhY2tncm91bmQ6IG5vbmU7DQogICAgZGlzcGxheTogZmxleDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIHRyYW5zaXRpb246IDAuM3M7DQoNCiAgICAudGl0bGVzIHsNCiAgICAgIHBhZGRpbmc6IDAgMCAwIDEycHg7DQogICAgICBjb2xvcjogIzA5NzdmZDsNCiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgICBmb250LXNpemU6IDI2cHg7DQogICAgICBsaW5lLWhlaWdodDogNDRweDsNCiAgICAgIHNwYW4ge30NCiAgICB9DQogIH0NCiAgLmhvbWUtdGl0bGU6aG92ZXIgew0KICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMHB4LCAwKTsNCiAgICB6LWluZGV4OiAxOw0KICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjEyKTsNCiAgfQ0KDQogIC5tb2R1bGUtYm94IHsNCiAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgIGJveC1zaGFkb3c6IDAgMHB4IDBweCByZ2JhKDAsIDAsIDAsIC4zKTsNCiAgICBtYXJnaW46IDEwcHg7DQogICAgcGFkZGluZzogMTRweDsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICAgIHdpZHRoOiAxMDAlOw0KICAgIG9yZGVyOiAxOw0KDQogICAgLm1vZHVsZS10aXRsZSB7DQogICAgICBwYWRkaW5nOiAwIDEwcHg7DQogICAgICBtYXJnaW46IDAgMCAxMnB4Ow0KICAgICAgY29sb3I6ICNmZmY7DQogICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgZm9udC1zaXplOiAxNnB4Ow0KICAgICAgbGluZS1oZWlnaHQ6IDQ0cHg7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgYmFja2dyb3VuZDogIzA5NzdmZDsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIH0NCg0KICAgIC5tb2R1bGUtYnRuIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDsNCiAgICB9DQogIH0NCg0KICAubmV3cy1ib3ggew0KICAgIGJvcmRlcjogMHB4IHNvbGlkICNjY2M7DQogICAgcGFkZGluZzogMDsNCiAgICBtYXJnaW46IDEwcHg7DQogICAgZGlzcGxheTogYmxvY2s7DQogICAgbWluLWhlaWdodDogNTI2cHg7DQogICAgdHJhbnNpdGlvbjogMC4zczsNCiAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgIGJveC1zaGFkb3c6IDAgMHB4IDBweCByZ2JhKDAsIDAsIDAsIC4zKTsNCiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgIGJhY2tncm91bmQ6ICNmZmY7DQogICAgZmxleDogMTsNCiAgICB3aWR0aDogY2FsYygzMCUgLSAyMHB4KTsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIG9yZGVyOiAyOw0KDQogICAgLm5ld3MtdGl0bGUgew0KICAgICAgcGFkZGluZzogMCAxMHB4Ow0KICAgICAgbWFyZ2luOiAwIDAgMTBweDsNCiAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICAgIGJvcmRlci1jb2xvcjogI2U2ZTZlNjsNCiAgICAgIGxpbmUtaGVpZ2h0OiA2MHB4Ow0KICAgICAgYm9yZGVyLXJhZGl1czogMTBweCAxMHB4IDAgMDsNCiAgICAgIGJhY2tncm91bmQ6ICMwOTc3ZmQ7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGJvcmRlci13aWR0aDogMHB4Ow0KICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICB9DQoNCiAgICAubmV3cy1saXN0IHsNCiAgICAgIG1hcmdpbjogMCBhdXRvOw0KICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICB3aWR0aDogOTIlOw0KICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICB9DQoNCiAgICAubmV3cy1pdGVtIHsNCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICBib3JkZXItcmFkaXVzOiAxMHB4Ow0KICAgICAgcGFkZGluZzogMjBweCAxMHB4Ow0KICAgICAgbWFyZ2luOiAwIDAgMTBweDsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQoNCiAgICAgIC5uZXdzLXRleHQgew0KICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICBjb2xvcjogIzAwMDsNCiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDsNCiAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgIGZvbnQtc2l6ZTogMTVweDsNCiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7DQogICAgICB9DQoNCiAgICAgIC5uZXdzLXRpbWUgew0KICAgICAgICBjb2xvcjogIzk5OTsNCiAgICAgICAgZGlzcGxheTogbm9uZTsNCiAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgfQ0KICAgIH0NCg0KICAgIC5uZXdzLWVtcHR5IHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgcGFkZGluZzogMzBweCAxMHB4Ow0KICAgICAgY29sb3I6ICM5OTk7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBmb250LXNpemU6IDE0cHg7DQogICAgfQ0KICB9DQoNCiAgLm5ld3MtYm94OmhvdmVyIHsNCiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDBweCwgMCk7DQogIH0NCn0NCg0KLmFuaW1hdGVfX2FuaW1hdGVkIHsNCiAgYW5pbWF0aW9uLWZpbGwtbW9kZTogbm9uZTsNCn0NCg=="},{"version":3,"sources":["home.vue"],"names":[],"mappings":";AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home-content\">\r\n    <!-- title -->\r\n    <div id=\"home-title\" class=\"home-title animate__animated\">\r\n      <div class=\"titles\">\r\n        <span>欢迎使用</span>\r\n        {{ this.$project.projectName }}\r\n      </div>\r\n    </div>\r\n\r\n    <!-- modules entry (top-level modules) -->\r\n    <div id=\"module-box\" class=\"module-box animate__animated\">\r\n      <div class=\"module-title\">模块入口</div>\r\n\r\n      <el-row :gutter=\"12\">\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"primary\" plain class=\"module-btn\" @click=\"go('/equipment')\">Equipment</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"success\" plain class=\"module-btn\" @click=\"go('/labs')\">Labs</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"warning\" plain class=\"module-btn\" @click=\"go('/reservations')\">Reservations</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"info\" plain class=\"module-btn\" @click=\"go('/experiment-projects')\">Experiments</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"danger\" plain class=\"module-btn\" @click=\"go('/inspection')\">Inspection</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"primary\" plain class=\"module-btn\" @click=\"go('/training')\">Training</el-button>\r\n        </el-col>\r\n\r\n        <el-col :xs=\"12\" :sm=\"8\" :md=\"6\">\r\n          <el-button type=\"success\" plain class=\"module-btn\" @click=\"go('/users')\">Users</el-button>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- news -->\r\n    <div id=\"news-box\" class=\"news-box animate__animated\">\r\n      <div class=\"news-title\">公告信息</div>\r\n      <div class=\"news-list\">\r\n        <div\r\n            class=\"news-item\"\r\n            v-for=\"(item, index) in newsList\"\r\n            :key=\"item.id || index\"\r\n            @click=\"newsDetailClick(item)\"\r\n        >\r\n          <div class=\"news-text\">\r\n            {{ item.title }}\r\n          </div>\r\n          <div class=\"news-time\">\r\n            {{ item.addtime }}\r\n          </div>\r\n        </div>\r\n\r\n        <!-- empty state -->\r\n        <div v-if=\"!newsList || newsList.length === 0\" class=\"news-empty\">\r\n          暂无公告\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <el-dialog :visible.sync=\"newsVisible\" title=\"公告信息\" :append-to-body=\"true\" width=\"60%\">\r\n      <div style=\"width: 100%;text-align: center;font-size: 20px;color: #000;padding: 0 0 20px;font-weight: bold;\">\r\n        {{ newsDetail.title }}\r\n      </div>\r\n      <div style=\"width: 100%;\">\r\n        <div class=\"ql-snow ql-editor\" v-html=\"newsDetail.content\"></div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'animate.css'\r\nimport router from '@/router/router-static'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      newsList: [],\r\n      newsDetail: {},\r\n      newsVisible: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    window.addEventListener('scroll', this.handleScroll)\r\n    setTimeout(() => {\r\n      this.handleScroll()\r\n    }, 100)\r\n  },\r\n  computed: {\r\n    avatar() {\r\n      return this.$storage.get('headportrait') ? this.$storage.get('headportrait') : ''\r\n    },\r\n  },\r\n  methods: {\r\n    handleScroll() {\r\n      let arr = [\r\n        { id: 'home-title', css: 'animate__' },\r\n        { id: 'module-box', css: 'animate__' },\r\n        { id: 'news-box', css: 'animate__' },\r\n      ]\r\n\r\n      for (let i in arr) {\r\n        let doc = document.getElementById(arr[i].id)\r\n        if (doc) {\r\n          let top = doc.offsetTop\r\n          let win_top = window.innerHeight + window.pageYOffset\r\n          if (win_top > top && doc.classList.value.indexOf(arr[i].css) < 0) {\r\n            doc.classList.add(arr[i].css)\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    init() {\r\n      // Minimal + aligned with your JWT setup:\r\n      // If no Token -> go login. Do NOT use sessionTable/django-style endpoint.\r\n      if (!this.$storage.get('Token')) {\r\n        router.push({ name: 'login' })\r\n        return\r\n      }\r\n      // Keep公告结构，但不在这里猜API；后续你要接真实公告接口再补\r\n      this.getNewsList()\r\n    },\r\n\r\n    getNewsList() {\r\n      // Do not guess backend API here. Keep empty by default.\r\n      this.newsList = []\r\n    },\r\n\r\n    newsDetailClick(row) {\r\n      this.newsDetail = row || {}\r\n      this.newsVisible = true\r\n    },\r\n\r\n    go(path) {\r\n      if (!path) return\r\n      router.push({ path })\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home-content {\r\n  padding: 10px 30px 40px;\r\n  align-content: flex-start;\r\n  background: url(http://codegen.caihongy.cn/20241213/1260e8d7b4d64512b62cbf10a93bf9cc.png) no-repeat center top / cover;\r\n  display: flex;\r\n  width: 100%;\r\n  min-height: 100vh;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  flex-wrap: wrap;\r\n\r\n  .home-title {\r\n    border-radius: 5px;\r\n    padding: 10px 0;\r\n    box-shadow: 0 0px 0px rgba(0, 0, 0, .3);\r\n    margin: 10px 0;\r\n    background: none;\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: 0.3s;\r\n\r\n    .titles {\r\n      padding: 0 0 0 12px;\r\n      color: #0977fd;\r\n      font-weight: 600;\r\n      font-size: 26px;\r\n      line-height: 44px;\r\n      span {}\r\n    }\r\n  }\r\n  .home-title:hover {\r\n    transform: translate3d(0, 0px, 0);\r\n    z-index: 1;\r\n    background: rgba(255, 255, 255, .12);\r\n  }\r\n\r\n  .module-box {\r\n    border-radius: 10px;\r\n    box-shadow: 0 0px 0px rgba(0, 0, 0, .3);\r\n    margin: 10px;\r\n    padding: 14px;\r\n    background: #fff;\r\n    display: block;\r\n    width: 100%;\r\n    order: 1;\r\n\r\n    .module-title {\r\n      padding: 0 10px;\r\n      margin: 0 0 12px;\r\n      color: #fff;\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n      line-height: 44px;\r\n      border-radius: 10px;\r\n      background: #0977fd;\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .module-btn {\r\n      width: 100%;\r\n      margin-bottom: 12px;\r\n    }\r\n  }\r\n\r\n  .news-box {\r\n    border: 0px solid #ccc;\r\n    padding: 0;\r\n    margin: 10px;\r\n    display: block;\r\n    min-height: 526px;\r\n    transition: 0.3s;\r\n    border-radius: 10px;\r\n    box-shadow: 0 0px 0px rgba(0, 0, 0, .3);\r\n    flex-direction: column;\r\n    background: #fff;\r\n    flex: 1;\r\n    width: calc(30% - 20px);\r\n    justify-content: center;\r\n    align-items: center;\r\n    order: 2;\r\n\r\n    .news-title {\r\n      padding: 0 10px;\r\n      margin: 0 0 10px;\r\n      color: #fff;\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n      border-color: #e6e6e6;\r\n      line-height: 60px;\r\n      border-radius: 10px 10px 0 0;\r\n      background: #0977fd;\r\n      width: 100%;\r\n      border-width: 0px;\r\n      border-style: solid;\r\n      text-align: center;\r\n    }\r\n\r\n    .news-list {\r\n      margin: 0 auto;\r\n      flex-direction: column;\r\n      display: flex;\r\n      width: 92%;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n    }\r\n\r\n    .news-item {\r\n      border: 1px solid #eee;\r\n      cursor: pointer;\r\n      border-radius: 10px;\r\n      padding: 20px 10px;\r\n      margin: 0 0 10px;\r\n      display: flex;\r\n      width: 100%;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n\r\n      .news-text {\r\n        overflow: hidden;\r\n        color: #000;\r\n        white-space: nowrap;\r\n        font-weight: 500;\r\n        width: 100%;\r\n        font-size: 15px;\r\n        text-overflow: ellipsis;\r\n      }\r\n\r\n      .news-time {\r\n        color: #999;\r\n        display: none;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n\r\n    .news-empty {\r\n      width: 100%;\r\n      padding: 30px 10px;\r\n      color: #999;\r\n      text-align: center;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n\r\n  .news-box:hover {\r\n    transform: translate3d(0, 0px, 0);\r\n  }\r\n}\r\n\r\n.animate__animated {\r\n  animation-fill-mode: none;\r\n}\r\n</style>\r\n"]}]}