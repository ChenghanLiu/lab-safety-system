{"remainingRequest":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/modules/equipment/list.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/src/views/modules/equipment/list.vue","mtime":1771260340819},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/babel-loader/lib/index.js","mtime":1771254462371},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/cache-loader/dist/cjs.js","mtime":1771254462036},{"path":"/Users/liuchenghan/Desktop/lab-safety-system/front/admin/node_modules/vue-loader/lib/index.js","mtime":1771254462450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vIOazqOaEj++8mui/memHjCBpbXBvcnQg5L2g55Sf5oiQ55qEIGVxdWlwbWVudC5qcyDph4zlr7nlupTnmoQgR0VUIOaWueazlQovLyDkvaDnmoTohJrmnKznlJ/miJDnmoTlh73mlbDlkI3lj6/og73mmK8gZ2V0RXF1aXBtZW50IC8gZ2V0QXBpRXF1aXBtZW50IOS5i+exuwppbXBvcnQgKiBhcyBlcXVpcG1lbnRBcGkgZnJvbSAnQC9hcGkvZXF1aXBtZW50JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFcXVpcG1lbnRMaXN0JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJvd3M6IFtdLAogICAgICBwYWdlOiAwLAogICAgICBzaXplOiAxMCwKICAgICAgdG90YWw6IDAKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWQoKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgbG9hZCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICB0cnkgewogICAgICAgIC8vIOaJvuWIsCBlcXVpcG1lbnRBcGkg6YeM4oCcR0VUIC9hcGkvZXF1aXBtZW504oCd6YKj5Liq5Ye95pWwCiAgICAgICAgLy8g5YWI5omT5Y2w5LiA5LiL55yL55yL5pyJ5ZOq5Lqb5Ye95pWwCiAgICAgICAgLy8gY29uc29sZS5sb2coT2JqZWN0LmtleXMoZXF1aXBtZW50QXBpKSkKCiAgICAgICAgLy8g5YGH6K6+55Sf5oiQ55qE5piv77yaZ2V0QXBpRXF1aXBtZW50KHBhcmFtcykKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCAoZXF1aXBtZW50QXBpLmdldEFwaUVxdWlwbWVudAogICAgICAgICAgICA/IGVxdWlwbWVudEFwaS5nZXRBcGlFcXVpcG1lbnQoeyBwYWdlOiB0aGlzLnBhZ2UsIHNpemU6IHRoaXMuc2l6ZSB9KQogICAgICAgICAgICA6IGVxdWlwbWVudEFwaS5nZXRFcXVpcG1lbnQKICAgICAgICAgICAgICAgID8gZXF1aXBtZW50QXBpLmdldEVxdWlwbWVudCh7IHBhZ2U6IHRoaXMucGFnZSwgc2l6ZTogdGhpcy5zaXplIH0pCiAgICAgICAgICAgICAgICA6IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2Fubm90IGZpbmQgZXF1aXBtZW50IGxpc3QgQVBJIGZ1bmN0aW9uIGluIHNyYy9hcGkvZXF1aXBtZW50LmpzJykpKQoKICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEgfHwgcmVzCgogICAgICAgIC8vIOWFvOWuuSBTcHJpbmcgUGFnZTogeyBjb250ZW50LCB0b3RhbEVsZW1lbnRzIH0KICAgICAgICB0aGlzLnJvd3MgPSBkYXRhLmNvbnRlbnQgfHwgZGF0YS5yZWNvcmRzIHx8IGRhdGEubGlzdCB8fCBbXQogICAgICAgIHRoaXMudG90YWwgPSBkYXRhLnRvdGFsRWxlbWVudHMgfHwgZGF0YS50b3RhbCB8fCAwCiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfQogICAgfSwKICAgIG9uUGFnZUNoYW5nZShwKSB7CiAgICAgIHRoaXMucGFnZSA9IHAgLSAxCiAgICAgIHRoaXMubG9hZCgpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AA2BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/modules/equipment","sourcesContent":["<template>\n  <div style=\"padding: 16px;\">\n    <el-card>\n      <div slot=\"header\">Equipment List</div>\n\n      <el-table :data=\"rows\" border stripe v-loading=\"loading\">\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"Name\" />\n        <el-table-column prop=\"model\" label=\"Model\" />\n        <el-table-column prop=\"status\" label=\"Status\" />\n      </el-table>\n\n      <div style=\"margin-top: 12px; text-align: right;\">\n        <el-pagination\n            background\n            layout=\"prev, pager, next, total\"\n            :current-page=\"page + 1\"\n            :page-size=\"size\"\n            :total=\"total\"\n            @current-change=\"onPageChange\"\n        />\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\n// 注意：这里 import 你生成的 equipment.js 里对应的 GET 方法\n// 你的脚本生成的函数名可能是 getEquipment / getApiEquipment 之类\nimport * as equipmentApi from '@/api/equipment'\n\nexport default {\n  name: 'EquipmentList',\n  data() {\n    return {\n      loading: false,\n      rows: [],\n      page: 0,\n      size: 10,\n      total: 0\n    }\n  },\n  created() {\n    this.load()\n  },\n  methods: {\n    async load() {\n      this.loading = true\n      try {\n        // 找到 equipmentApi 里“GET /api/equipment”那个函数\n        // 先打印一下看看有哪些函数\n        // console.log(Object.keys(equipmentApi))\n\n        // 假设生成的是：getApiEquipment(params)\n        const res = await (equipmentApi.getApiEquipment\n            ? equipmentApi.getApiEquipment({ page: this.page, size: this.size })\n            : equipmentApi.getEquipment\n                ? equipmentApi.getEquipment({ page: this.page, size: this.size })\n                : Promise.reject(new Error('Cannot find equipment list API function in src/api/equipment.js')))\n\n        const data = res.data || res\n\n        // 兼容 Spring Page: { content, totalElements }\n        this.rows = data.content || data.records || data.list || []\n        this.total = data.totalElements || data.total || 0\n      } finally {\n        this.loading = false\n      }\n    },\n    onPageChange(p) {\n      this.page = p - 1\n      this.load()\n    }\n  }\n}\n</script>\n"]}]}